<#--
Automated web application generator

Licensed Materials - Property of IBM
"Restricted Materials of IBM"
IPSC : 6949-63S
(C) Copyright IBM Japan, Ltd. 2016 All Rights Reserved.
(C) Copyright IBM Corp. 2016 All Rights Reserved.
US Government Users Restricted Rights -
Use, duplication or disclosure restricted
by GSA ADP Schedule Contract with IBM Corp.
 -->
/** Generated by AWAG ver.${AWAGversion} at ${.now?iso_local} **/
'use strict';

var contextRoot = "";

var app = angular.module('awag', ['ngRoute', 'awag.common',
  <#list resourceDefs as resource><#if resource.webGenEnabled>'awag.${resource.resourceName?lower_case}'<#sep>,</#if></#list>
  ])
  /**
   * routing for home
   **/
  .config(['$routeProvider', function($routeProvider) {
    $routeProvider
      .otherwise({
        controller: 'HomeCtrl as home',
        redirectTo: '/home'
      });
  }]);

/**
 * controller for home page
 **/
app.controller('HomeCtrl', ['$scope',  'ParamObject', function($scope,  ParamObject) {
  this.message = ParamObject.message;

  this.start = function(){
      ParamObject.paramItem = null;
      ParamObject.paramSearchList = null;
      ParamObject.method = null;
      ParamObject.error = null;

      if(document.getElementsByClassName('mdl-layout__drawer')[0].getAttribute('aria-hidden')=="false"){
        document.querySelector('.mdl-layout').MaterialLayout.toggleDrawer();
      }
  };

  //for material design light
  componentHandler.upgradeDom();
}]);

/**
 * work-aroud to make material design light fields work
 **/
var MKDT = function makeDirty() {

  //for material design light
  componentHandler.upgradeDom();

  var elements = document.getElementsByClassName("mdl-textfield__input");
  for (var i = 0; i < elements.length; i++) {
    if (elements[i].value == null || elements[i].value.length == 0) {
      if (elements[i].parentNode.classList.contains('is-invalid')){
        (elements[i].parentNode.classList.remove('is-invalid'));
      }
    }
  }
}

/**
 * reset radio and checkbox without "option-AndOr"
 **/
var RSCKD = function resetChecked() {
  var elements = document.getElementsByClassName("mdl-radio__button");
  for (var i = 0; i < elements.length; i++) {
    if (elements[i].name != "option-AndOr") {
        (elements[i].parentNode.classList.remove('is-checked'));
    } else {
      if(elements[i].id=="option-And"){
        elements[i].click();
      }
    }
  }
  var elements = document.getElementsByClassName("mdl-checkbox__input");
  for (var i = 0; i < elements.length; i++) {
    (elements[i].parentNode.classList.remove('is-checked'));
  }
}

/**
 * show loading image
 **/
function showLoading(){
  document.getElementById("spinner").classList.add('is-active');
}
/**
 * hide loading image
 **/
function hideLoading(){
  document.getElementById("spinner").classList.remove('is-active');
}
